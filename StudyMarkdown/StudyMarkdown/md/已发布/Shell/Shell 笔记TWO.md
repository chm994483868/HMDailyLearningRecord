# Shell ç¬”è®°

## Shell æ¦‚è¿°

&emsp;Shell æ˜¯ä¸€ä¸ª C è¯­è¨€ç¼–å†™çš„è„šæœ¬è¯­è¨€ï¼Œå®ƒæ˜¯ç”¨æˆ·ä¸ Linux çš„æ¡¥æ¢ï¼Œç”¨æˆ·è¾“å…¥å‘½ä»¤äº¤ç»™ Shell å¤„ç†ï¼Œshell æ˜¯ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ï¼Œæ˜¯ä¸€ä¸ªå·¥å…·ç®±ï¼ŒShell å°†ç›¸åº”çš„æ“ä½œä¼ é€’ç»™å†…æ ¸ï¼ˆKernelï¼‰ï¼Œå†…æ ¸æŠŠå¤„ç†çš„ç»“æœè¾“å‡ºç»™ç”¨æˆ·ã€‚

&emsp;Shell æ˜¯ä¸€ä¸ªç”¨ C è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œå®ƒæ˜¯ç”¨æˆ·ä½¿ç”¨ Linux çš„æ¡¥æ¢ã€‚**Shell æ—¢æ˜¯ä¸€ç§å‘½ä»¤è¯­è¨€ï¼Œåˆæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€ã€‚**

&emsp;shell ä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿä¸­çš„ä¸€ä¸ªè½¯ä»¶ï¼Œå®ƒåŒ…å«åœ¨ Linux å†…æ ¸çš„å¤–é¢ï¼Œä¸ºç”¨æˆ·å’Œå†…æ ¸ä¹‹é—´çš„äº¤äº’æä¾›äº†ä¸€ä¸ªæ¥å£ï¼Œç›®å‰æœ€æµè¡Œçš„ shell ä¸º bash shellï¼ˆGUN Bourne-Again Shellï¼‰ã€‚ç”¨æˆ·çš„å‘½ä»¤ç”¨ shell å»è§£é‡Šï¼Œå†å‘é€ç»™ Linxu å†…æ ¸ï¼Œshell æ¥æ”¶ç³»ç»Ÿæ–¹å›åº”çš„è¾“å‡ºå¹¶æ˜¾ç¤ºå…¶åˆ°å±å¹•ä¸­ã€‚

## Shell ç±»å‹

&emsp;sh(å…¨ç§° Bourne Shell)ï¼Œæ˜¯ UNIX æœ€åˆä½¿ç”¨çš„ shellï¼Œè€Œä¸”åœ¨æ¯ç§ UNIX ä¸Šéƒ½å¯ä»¥ä½¿ç”¨ã€‚

&emsp;Bourne Shell åœ¨ shell ç¼–ç¨‹æ–¹ä¾¿ç›¸å½“ä¼˜ç§€ï¼Œä½†åœ¨å¤„ç†ä¸ç”¨æˆ·çš„äº¤äº’æ–¹ä¾¿ä½œå¾—ä¸å¦‚å…¶ä»–å‡ ç§ shellã€‚

&emsp;bashï¼ˆå…¨ç§° Bourne Again Shellï¼‰ï¼ŒLinux é»˜è®¤çš„ï¼Œå®ƒæ˜¯ Bourne Shell çš„æ‰©å±•ã€‚

&emsp;ä¸ Bourne Shell å®Œå…¨å…¼å®¹ï¼Œå¹¶ä¸”åœ¨ Bourne Shell çš„åŸºç¡€ä¸Šå¢åŠ äº†å¾ˆå¤šç‰¹æ€§ã€‚å¯ä»¥æä¾›å‘½ä»¤è¡¥å…¨ï¼Œå‘½ä»¤ç¼–è¾‘å’Œå‘½ä»¤å†å²ç­‰åŠŸèƒ½ã€‚å®ƒè¿˜åŒ…å«äº†å¾ˆå¤š C Shell å’Œ Korn Shell ä¸­çš„ä¼˜ç‚¹ï¼Œæœ‰çµæ´»å’Œå¼ºå¤§çš„ç¼–è¾‘æ¥å£ï¼ŒåŒæ—¶åˆå¾ˆå‹å¥½çš„ç”¨æˆ·ç•Œé¢ã€‚

&emsp;csh(å…¨ç§° C Shell)ï¼Œæ˜¯ä¸€ç§æ¯” Bourne Shell æ›´é€‚åˆçš„å˜ç§ Shellï¼Œå®ƒçš„è¯­æ³•ä¸ C è¯­è¨€å¾ˆç›¸ä¼¼ã€‚

&emsp;Tcsh æ˜¯ Linux æä¾›çš„ C Shell çš„ä¸€ä¸ªæ‰©å±•ç‰ˆæœ¬ã€‚

&emsp;Tcsh åŒ…æ‹¬å‘½ä»¤è¡Œç¼–è¾‘ï¼Œå¯ç¼–ç¨‹å•è¯è¡¥å…¨ï¼Œæ‹¼å†™æ ¡æ­£ï¼Œå†å²å‘½ä»¤æ›¿æ¢ï¼Œä½œä¸šæ§åˆ¶å’Œç±»ä¼¼ C è¯­è¨€çš„è¯­æ³•ï¼Œå®ƒä¸ä»…å’Œ Bash Shell æç¤ºç¬¦å…¼å®¹ï¼Œè€Œä¸”è¿˜æä¾›æ¯” Bash Shell æ›´å¤šçš„æç¤ºç¬¦å‚æ•°ã€‚ksh(å…¨ç§° Korn Shell)ï¼Œé›†åˆäº† C Shell å’Œ Bourne Shell çš„ä¼˜ç‚¹å¹¶ä¸”å’Œ Bourne Shell å®Œå…¨å…¼å®¹ã€‚

&emsp;pdkshï¼Œæ˜¯ Linux ç³»ç»Ÿæä¾›çš„ ksh çš„æ‰©å±•ã€‚

&emsp;pdksh æ”¯æŒäººç‰©æ§åˆ¶ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸ŠæŒ‚èµ·ï¼Œåå°æ‰§è¡Œï¼Œå”¤é†’æˆ–ç»ˆæ­¢ç¨‹åºã€‚

## Shell è„šæœ¬

&emsp;ä»€ä¹ˆæ˜¯ shell è„šæœ¬ï¼Ÿè„šæœ¬å°±æ˜¯ shell å‘½ä»¤ç»„æˆçš„æ–‡ä»¶ï¼Œè¿™äº›å‘½ä»¤éƒ½æ˜¯å¯æ‰§è¡Œç¨‹åºçš„åå­—ï¼Œè„šæœ¬ä¸ç”¨ç¼–è¯‘å³å¯é€šè¿‡è§£é‡Šå™¨è§£é‡Šè¿è¡Œã€‚å®ƒæ˜¯ä¸€ç§è§£é‡Šå‹è¯­è¨€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ shell è„šæœ¬æ“å­˜æ‰§è¡ŒåŠ¨ä½œï¼Œç”¨è„šæœ¬åˆ¤å®šå‘½ä»¤çš„æ‰§è¡Œæ¡ä»¶ï¼Œç”¨è„šæœ¬æ¥å®ç°åŠ¨ä½œçš„æ‰¹é‡æ‰§è¡Œã€‚

&emsp;Shell è„šæœ¬ï¼ˆshell scriptï¼‰ï¼Œæ˜¯ä¸€ç§ä¸º shell ç¼–å†™çš„è„šæœ¬ç¨‹åºã€‚å¤§å®¶å£ä¸­æ‰€è¯´çš„ shell é€šå¸¸éƒ½æ˜¯æŒ‡ shell è„šæœ¬ï¼Œä½†æˆ‘ä»¬è‡ªå·±åˆ™è¦çŸ¥é“ï¼Œshell å’Œ shell script æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µã€‚ç”±äºä¹ æƒ¯çš„åŸå› ï¼Œç®€æ´èµ·è§ï¼Œæœ¬æ–‡å‡ºç°çš„ "shell ç¼–ç¨‹" éƒ½æ˜¯æŒ‡ shell è„šæœ¬ç¼–ç¨‹ï¼Œä¸æ˜¯æŒ‡å¼€å‘ shell è‡ªèº«ã€‚

&emsp;Shell è„šæœ¬ç¼–ç¨‹è·Ÿ JavaScriptã€php ç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†ã€‚

&emsp;ä½¿ç”¨ `cat /etc/shells` å¯çœ‹åˆ° m1 çš„ macMini ç³»ç»Ÿè‡ªå¸¦å¦‚ä¸‹ shell è§£é‡Šå™¨ã€‚

```c++
hmc@localhost ~ % cat /etc/shells
# List of acceptable shells for chpass(1).
# Ftpd will not allow users to connect who are not using one of these shells.

/bin/bash
/bin/csh
/bin/dash
/bin/ksh
/bin/sh
/bin/tcsh
/bin/zsh
```

https://apptrailers.itunes.apple.com/apple-assets-us-std-000001/PurpleVideo7/v4/ff/9b/d4/ff9bd4a2-2762-baac-1237-df7a81f2dbdb/P37356270_default.m3u8

&emsp;Linux çš„ Shell ç§ç±»ä¼—å¤šï¼Œå¸¸è§çš„æœ‰ï¼š

+ Bourne Shellï¼ˆ/usr/bin/sh æˆ– /bin/shï¼‰
+ **Bourne Again Shellï¼ˆ/bin/bashï¼‰**ï¼ˆç°åœ¨æœ€æµè¡Œï¼Œä¹Ÿæ˜¯å¤§å¤šæ•° Linux ç³»ç»Ÿé»˜è®¤çš„ Shellã€‚ï¼‰
+ C Shellï¼ˆ/usr/bin/cshï¼‰
+ K Shellï¼ˆ/usr/bin/kshï¼‰
+ Shell for Rootï¼ˆ/sbin/shï¼‰
...

&emsp;åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œäººä»¬å¹¶ä¸åŒºåˆ† Bourne Shell å’Œ Bourne Again Shellï¼Œæ‰€ä»¥ï¼Œåƒ `#!/bin/sh`ï¼Œå®ƒåŒæ ·ä¹Ÿå¯ä»¥æ”¹ä¸º `#!/bin/bash`ã€‚`#!` å‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤ Shell è„šæœ¬æ–‡ä»¶çš„ Shell ç¨‹åºï¼Œ`#!` æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ª Shell è„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œå³ä½¿ç”¨å“ªä¸€ç§ Shellã€‚

## è¿è¡Œ Shell è„šæœ¬æœ‰ä¸åŒçš„æ–¹å¼

1. ä½œä¸ºå¯æ‰§è¡Œç¨‹åºï¼Œå°† shell è„šæœ¬ä¿å­˜ä¸º xxx.shï¼Œå¹¶ cd åˆ°ç›¸åº”ç›®å½•ï¼Œ

```c++
chmod +x ./xxx.sh  # ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™
./xxx.sh  # æ‰§è¡Œè„šæœ¬
```

&emsp;æ³¨æ„ï¼Œä¸€å®šè¦å†™æˆ ./xxx.shï¼Œè€Œä¸æ˜¯ xxx.shï¼Œè¿è¡Œå…¶å®ƒäºŒè¿›åˆ¶çš„ç¨‹åºä¹Ÿä¸€æ ·ï¼Œç›´æ¥å†™ xxx.shï¼Œlinux ç³»ç»Ÿä¼šå» PATH é‡Œå¯»æ‰¾æœ‰æ²¡æœ‰å« xxx.sh çš„ï¼Œè€Œåªæœ‰ /bin, /sbin, /usr/binï¼Œ/usr/sbin ç­‰åœ¨ PATH é‡Œï¼Œä½ çš„å½“å‰ç›®å½•é€šå¸¸ä¸åœ¨ PATH é‡Œï¼Œæ‰€ä»¥å†™æˆ xxx.sh æ˜¯ä¼šæ‰¾ä¸åˆ°å‘½ä»¤çš„ï¼Œè¦ç”¨ ./xxx.sh å‘Šè¯‰ç³»ç»Ÿè¯´ï¼Œå°±åœ¨å½“å‰ç›®å½•æ‰¾ã€‚

&emsp;ä»…ä½¿ç”¨ . æ—¶ï¼Œæ‰“å¼€ä¸€ä¸ªå­ shell æ¥è¯»å–å¹¶æ‰§è¡Œ FileName ä¸­å‘½ä»¤ï¼Œè¯¥ FileName æ–‡ä»¶éœ€è¦ "æ‰§è¡Œæƒé™"ã€‚è¿è¡Œä¸€ä¸ª shell è„šæœ¬æ—¶ä¼šå¯åŠ¨å¦ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ã€‚

2. ä½œä¸ºè§£é‡Šå™¨å‚æ•°ã€‚è¿™ç§è¿è¡Œæ–¹å¼æ˜¯ï¼Œç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå…¶å‚æ•°å°±æ˜¯ shell è„šæœ¬çš„æ–‡ä»¶åï¼Œå¦‚ï¼š

```c++
/bin/sh FileName.sh
/bin/php FileName.php
```

&emsp;æ‰“å¼€ä¸€ä¸ªå­ shell æ¥è¯»å–å¹¶æ‰§è¡Œ FileName ä¸­å‘½ä»¤ã€‚è¯¥ FileName æ–‡ä»¶å¯ä»¥æ—  "æ‰§è¡Œæƒé™"ã€‚è¿è¡Œä¸€ä¸ª shell è„šæœ¬æ—¶ä¼šå¯åŠ¨å¦ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ã€‚

&emsp;è¿™ç§æ–¹å¼è¿è¡Œ shell è„šæœ¬ï¼Œä¸éœ€è¦åœ¨ shell è„šæœ¬æ–‡ä»¶ç¬¬ä¸€è¡ŒæŒ‡å®šè§£é‡Šå™¨ä¿¡æ¯ï¼Œå†™äº†ä¹Ÿæ²¡ç”¨ï¼Œå®ƒä¼šç›´æ¥ä½¿ç”¨ä¸Šé¢æŒ‡ä»¤ä¸­æŒ‡å®šçš„è§£é‡Šå™¨ã€‚

&emsp;chmod + x file åŠ ä¸Šæ‰§è¡Œæƒé™ï¼Œå¦åˆ™ä¼šæç¤ºæ— æ‰§è¡Œæƒé™ã€‚æ³¨æ„æ‰§è¡Œè„šæœ¬æ—¶å€™æˆ–è€…å…¨ç›®å½•ï¼Œæˆ–è€… ./file.sh ï¼Œå¦‚æœä¸åŠ çš„è¯ï¼Œlinux é»˜è®¤ä¼šä» PATH é‡Œå»æ‰¾è¯¥ file.shã€‚

> æ‰€ä»¥è„šæœ¬å…¶å®å°±æ˜¯çŸ­å°çš„ã€ç”¨æ¥è®©è®¡ç®—æœºè‡ªåŠ¨åŒ–å®Œæˆä¸€ç³»åˆ—å·¥ä½œçš„ç¨‹åºï¼Œè¿™ç±»ç¨‹åºå¯ä»¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ä¿®æ”¹ï¼Œä¸éœ€è¦ç¼–è¯‘ï¼Œé€šå¸¸æ˜¯è§£é‡Šè¿è¡Œçš„ã€‚

3. source å‘½ä»¤ç”¨æ³•ã€‚

```c++
source FileName
```

&emsp;åœ¨å½“å‰ bash ç¯å¢ƒä¸‹è¯»å–å¹¶æ‰§è¡Œ FileName ä¸­çš„å‘½ä»¤ã€‚è¯¥ FileName æ–‡ä»¶å¯ä»¥æ—  "æ‰§è¡Œæƒé™"ã€‚è¯¥å‘½ä»¤é€šå¸¸ç”¨å‘½ä»¤ . æ¥æ›¿ä»£ã€‚
















## å‚è€ƒé“¾æ¥
**å‚è€ƒé“¾æ¥:ğŸ”—**
+ [Bash è„šæœ¬æ•™ç¨‹](https://wangdoc.com/bash/)
+ [shellï¼ˆshellç®€ä»‹ï¼‰](https://www.cnblogs.com/du-z/p/10959013.html)
+ [shellç®€ä»‹](https://blog.csdn.net/qq_43943846/article/details/88014144)
+ [Shellä»‹ç»](https://zhuanlan.zhihu.com/p/115642982)
+ [shellå­¦ä¹ ç¬”è®°](https://zhuanlan.zhihu.com/p/143730100)
+ [shellåŸºæœ¬æŒ‡å—](https://zhuanlan.zhihu.com/p/105102573)
+ [sh/bash/csh/Tcsh/ksh/pdkshç­‰shellæœ¬è´¨åŒºåˆ«](https://blog.csdn.net/dream_an/article/details/50548936)
+ [å¿«ï¼Œå­¦ä¼š shell](https://zhuanlan.zhihu.com/p/75373580)
+ [Shell ç¼–ç¨‹å…¥é—¨](https://zhuanlan.zhihu.com/p/97566547)
+ [æµ…è°ˆshell åŸºç¡€ï¼Œæ€æƒ³å’ŒæŠ€å·§](https://zhuanlan.zhihu.com/p/129268123)
+ [åœ¨ Mac ä¸Šå°† zsh ç”¨ä½œé»˜è®¤ Shell](https://support.apple.com/zh-cn/HT208050)
